# Контент-Бот на основе GPT-4 для Telegram

Продвинутый Telegram-бот, использующий GPT-4 для генерации динамического контента для Telegram-каналов на русском языке. Бот создает эффективные контент-планы, которые прогревают аудиторию к покупке, а также помогает переупаковывать продукты с учетом болей целевой аудитории.

## Основные функции

- **Создание контент-плана**: Генерация последовательного 14-дневного плана публикаций, который постепенно прогревает аудиторию к продаже
- **Индивидуальные посты**: Создание отдельных постов с учетом особенностей целевой аудитории и темы канала
- **Переупаковка продукта**: Создание продающего описания товара/услуги/курса с учетом боли целевой аудитории
- **Механизм подписки**: Требует подписку на канал @expert_buyanov для доступа к полному функционалу
- **Веб-интерфейс**: Мониторинг статуса бота через простой веб-интерфейс
- **Автоматическое сохранение**: Все пользовательские настройки и данные сохраняются в базе данных

## Технический стек

- Python 3.11+
- python-telegram-bot (для взаимодействия с Telegram API)
- OpenAI GPT-4 (для генерации контента)
- Flask (для веб-интерфейса)
- PostgreSQL (для хранения данных пользователей)
- SQLAlchemy (ORM для работы с базой данных)
- Gunicorn (для запуска веб-сервера)

## Необходимые переменные окружения

```
TELEGRAM_BOT_TOKEN=ваш_токен_телеграм_бота
OPENAI_API_KEY=ваш_ключ_api_openai
SESSION_SECRET=секретный_ключ_сессии
DATABASE_URL=url_вашей_базы_данных
```

## Инструкция по установке и запуску

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

2. Настройте переменные окружения (добавьте их в .env файл или в переменные окружения сервера)

3. Запустите сервисы (два варианта):

   a. Запуск бота Telegram и веб-сервера одновременно:
   ```bash
   ./start.sh
   ```

   b. Запуск только бота Telegram:
   ```bash
   python main.py
   ```

   c. Запуск только веб-сервера Flask:
   ```bash
   ./start_flask.sh
   # или
   gunicorn --bind 0.0.0.0:5000 --reuse-port --reload wsgi:app
   ```

## Структура проекта

```
├── app.py              # Настройка Flask-приложения
├── database.py         # Операции с базой данных
├── handlers.py         # Обработчики сообщений Telegram
├── main.py             # Инициализация бота Telegram
├── models.py           # Модели данных SQLAlchemy
├── prompts.py          # Шаблоны запросов для GPT-4
├── utils.py            # Вспомогательные функции
├── wsgi.py             # Точка входа WSGI для Flask
├── flask_server.py     # Запуск изолированного Flask-сервера
├── server.py           # Комбинированный запуск сервисов
├── start.sh            # Скрипт для запуска бота
├── start_flask.sh      # Скрипт для запуска веб-сервера
└── templates/          # HTML шаблоны
    └── index.html      # Страница статуса бота
```

## Функциональные возможности

1. **Контент-план**:
   - Запрашивает тему канала, целевую аудиторию, метод монетизации и продукт
   - Генерирует 14-дневный план публикаций
   - Посты 1-11 постепенно прогревают аудиторию
   - Посты 12-14 содержат продающее предложение

2. **Переупаковка продукта**:
   - Запрашивает информацию о целевой аудитории, их болях и продукте
   - Создает продающее описание, фокусирующееся на выгодах для пользователя
   - Подчеркивает ценность продукта в контексте решения проблем аудитории

3. **Веб-мониторинг**:
   - Отображает статус бота
   - Показывает основные функциональные возможности
   - Обеспечивает доступ к информации о требованиях для использования

## Лицензия

MIT License
